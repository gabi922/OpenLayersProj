import { Component, OnInit } from '@angular/core';
import * as ol from "openlayers";

@Component({
  selector: 'map2',
  templateUrl: './map2.component.html',
  styleUrls: ['./map2.component.css']
})
export class Map2Component implements OnInit {

  constructor() { }

  ngOnInit() {
    let baseLayer = new ol.layer.Tile({
      source: new ol.source.OSM()
    });

    let view = new ol.View({
      center: ol.proj.transform([ -0.182612, 51.5011 ], 'EPSG:4326', 'EPSG:3857'),
      zoom: 18
    });

    let vectorSource = new ol.source.Vector({
      features: (new ol.format.GeoJSON()).readFeatures(this.inputGeoJSON)
    });

    let vector = new ol.layer.Vector({
      source: vectorSource,
      style: new ol.style.Style({
        stroke: new ol.style.Stroke({
          color: '#dd5555',
          width: 5,

        }),
        image: new ol.style.Circle({
          radius: 7,
          fill: new ol.style.Fill({
            color: '#5555dd'
          })
        })
      })
    });
    
    let map = new ol.Map({
      target: 'map',
      layers: [ baseLayer, vector ],
      view: view
    });

    map.addInteraction(new ol.interaction.Select());
  }

  private inputGeoJSON = {  
    "type":"FeatureCollection",
    "features":[  
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20306.57145966733,
                6710483.448766051
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20296.4196668482,
                6710535.103476572
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20263.575631256914,
                6710538.089297988
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20259.395481272575,
                6710477.1785410745
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"LineString",
             "coordinates":[  
                [  
                   -20296.4196668482,
                   6710535.103476572
                ],
                [  
                   -20306.57145966733,
                   6710483.448766051
                ]
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20325.68071673862,
                6710251.450441919
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20322.097731037753,
                6710304.598063149
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20315.528923919494,
                6710274.142684692
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20202.664874342165,
                6710291.460448912
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"LineString",
             "coordinates":[  
                [  
                   -20205.35211361782,
                   6710472.99839109
                ],
                [  
                   -20205.053531476075,
                   6710431.79405553
                ],
                [  
                   -20202.664874342165,
                   6710291.460448912
                ],
                [  
                   -20201.47054577521,
                   6710232.341184848
                ]
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20240.88338848475,
                6710435.377041231
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20240.28622420128,
                6710475.387048224
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20205.35211361782,
                6710472.99839109
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20205.053531476075,
                6710431.79405553
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20104.729931851787,
                6710476.282794649
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20100.549781867438,
                6710441.945848349
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"LineString",
             "coordinates":[  
                [  
                   -20240.28622420128,
                   6710475.387048224
                ],
                [  
                   -20240.88338848475,
                   6710435.377041231
                ],
                [  
                   -20205.053531476075,
                   6710431.79405553
                ],
                [  
                   -20100.549781867438,
                   6710441.945848349
                ],
                [  
                   -20104.729931851787,
                   6710476.282794649
                ]
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"LineString",
             "coordinates":[  
                [  
                   -20316.723252486456,
                   6710484.344512474
                ],
                [  
                   -20338.818330975133,
                   6710329.678963055
                ],
                [  
                   -20372.856695133378,
                   6710294.44627033
                ],
                [  
                   -20380.02266653511,
                   6710268.1710418565
                ],
                [  
                   -20372.856695133378,
                   6710250.853277636
                ],
                [  
                   -20353.150273778607,
                   6710240.104320534
                ],
                [  
                   -20325.68071673862,
                   6710251.450441919
                ],
                [  
                   -20315.528923919494,
                   6710274.142684692
                ],
                [  
                   -20322.097731037753,
                   6710304.598063149
                ],
                [  
                   -20338.818330975133,
                   6710329.678963055
                ]
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20380.02266653511,
                6710268.1710418565
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20372.856695133378,
                6710250.853277636
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20372.856695133378,
                6710294.44627033
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20353.150273778607,
                6710240.104320534
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20338.818330975133,
                6710329.678963055
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"LineString",
             "coordinates":[  
                [  
                   -20485.720744710714,
                   6710527.340340884
                ],
                [  
                   -20519.477175186203,
                   6710539.835815149
                ],
                [  
                   -20593.807480020216,
                   6710567.350347879
                ]
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20593.807480020216,
                6710567.350347879
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20519.311780718912,
                6710539.774591783
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"LineString",
             "coordinates":[  
                [  
                   -20485.720744710714,
                   6710527.340340884
                ],
                [  
                   -20434.96178061509,
                   6710513.605562364
                ],
                [  
                   -20316.723252486456,
                   6710484.344512474
                ],
                [  
                   -20306.57145966733,
                   6710483.448766051
                ],
                [  
                   -20259.395481272575,
                   6710477.1785410745
                ],
                [  
                   -20240.28622420128,
                   6710475.387048224
                ],
                [  
                   -20205.35211361782,
                   6710472.99839109
                ],
                [  
                   -20104.729931851787,
                   6710476.282794649
                ]
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20321.500566754275,
                6710569.739005013
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20316.723252486456,
                6710484.344512474
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20359.71908089687,
                6710544.359522963
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"LineString",
             "coordinates":[  
                [  
                   -20519.477175186203,
                   6710539.835815149
                ],
                [  
                   -20509.308733908096,
                   6710580.487962114
                ],
                [  
                   -20504.232837498523,
                   6710580.487962116
                ],
                [  
                   -20492.886716112444,
                   6710583.473783533
                ],
                [  
                   -20359.71908089687,
                   6710544.359522963
                ],
                [  
                   -20296.4196668482,
                   6710535.103476572
                ],
                [  
                   -20263.575631256914,
                   6710538.089297988
                ],
                [  
                   -20279.699066910824,
                   6710554.809897924
                ],
                [  
                   -20295.82250256473,
                   6710564.663108601
                ],
                [  
                   -20321.500566754275,
                   6710569.739005013
                ],
                [  
                   -20334.041016707317,
                   6710567.648930019
                ],
                [  
                   -20346.581466660355,
                   6710562.871615751
                ],
                [  
                   -20359.71908089687,
                   6710544.359522963
                ]
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"LineString",
             "coordinates":[  
                [  
                   -20482.137759009845,
                   6710235.924170547
                ],
                [  
                   -20483.929251860278,
                   6710334.45627732
                ],
                [  
                   -20482.137759009845,
                   6710412.087634172
                ],
                [  
                   -20485.720744710714,
                   6710527.340340884
                ]
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20485.720744710714,
                6710527.340340884
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20482.137759009845,
                6710235.924170547
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20434.96178061509,
                6710513.605562364
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20492.886716112444,
                6710583.473783533
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20504.232837498523,
                6710580.487962116
             ]
          },
          "properties":null
       },
       {  
          "type":"Feature",
          "geometry":{  
             "type":"Point",
             "coordinates":[  
                -20509.308733908096,
                6710580.487962114
             ]
          },
          "properties":null
       }
    ]
 };
}
